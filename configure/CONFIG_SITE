# CONFIG_SITE

# Make any application-specific changes to the EPICS build
# configuration variables in this file.
#
# Host/target specific settings can be specified in files named
#  CONFIG_SITE.$(EPICS_HOST_ARCH).Common
#  CONFIG_SITE.Common.$(T_A)
#  CONFIG_SITE.$(EPICS_HOST_ARCH).$(T_A)

# Set this when you only want to compile this application
# for a subset of the cross-compiled target architectures
# that Base is built for.
#CROSS_COMPILER_TARGET_ARCHS = RTEMS-beatnik
#CROSS_COMPILER_TARGET_ARCHS = RTEMS-uC5282
#CROSS_COMPILER_TARGET_ARCHS = RTEMS-pc586
#CROSS_COMPILER_TARGET_ARCHS = linux-x86
#CROSS_COMPILER_TARGET_ARCHS = RTEMS-beatnik RTEMS-mvme3100 RTEMS-uC5282 linuxRT_glibc-x86_64 vxWorks-mpc8540 vxWorks-ppc604_altivec vxWorks-ppc604_long

# Set this when your IOC and the host use different paths
# to access the application. This will be needed to boot
# from a Microsoft FTP server or with some NFS mounts.
# You must rebuild in the iocBoot directory for this to
# take effect.
#IOCS_APPL_TOP = <path to application top as seen by IOC>

# If you don't want to install into $(TOP) then
# define INSTALL_LOCATION here
#INSTALL_LOCATION=<fullpathname>

# Add for cram, static build required for soft iocs
STATIC_BUILD=YES
SHARED_LIBRARIES=NO

# Might as well build shared libs too where we can support them
ifeq ($(T_A),linux-x86_64)
SHARED_LIBRARIES=YES
endif
ifeq ($(T_A),rhel6-x86_64)
SHARED_LIBRARIES=YES
endif
ifeq ($(T_A),rhel7-x86_64)
SHARED_LIBRARIES=YES
endif

# Add PCRE support if we have it for this T_A
PCRE_TOP     := $(PSPKG_ROOT)/release/pcre/8.37/$(T_A)/
ifneq (,$(wildcard $(PCRE_TOP)))
PCRE_INCLUDE := $(PCRE_TOP)/include
PCRE_LIB     := $(PCRE_TOP)/lib
LIB_INSTALLS += $(wildcard $(PCRE_LIB)/lib*)
endif
